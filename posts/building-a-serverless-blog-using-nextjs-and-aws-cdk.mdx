---
title: Building a Serverless Blog using Next.js and AWS CDK
date: '2021-09-04'
tags:
  - aws
  - serverless
  - cdk
  - next.js
  - devops
  - ci / cd
---

<Section>

# Building a Serverless Blog using Next.js and AWS CDK

<time>2021-09-04</time>

<Tags tags={[
  'aws',
  'serverless',
  'cdk',
  'next.js'
]} />

In this blog, we'll explore how to host a Next.js static site on AWS. We'll use AWS CloudFront, Lambda@Edge, and S3 to implement a fully serverless solution. We'll leverage AWS CDK to define our infrastructure as code and implement a continuous integration and continuous delivery pipeline with Github Actions.

<Image
  highQualitySource="buildingAServerlessBlogUsingNextjsAndAwsCdk/headerHighQuality.jpg"
  lowQualitySource="buildingAServerlessBlogUsingNextjsAndAwsCdk/headerLowQuality.jpg"
  alt="A Next.js + AWS ☁️ story"
/>


We'll explore the solution I've implemented to host my personal blog website [tylangesmith.com](https://tylangesmith.com). This is a simple static website built using [Next.js](https://nextjs.org/). Next.js comes with a set of pre-rendering [static generation](https://nextjs.org/docs/basic-features/pages#static-generation-recommended) features right out of the box that suits this exact use case. We won't deep-dive into this implementation, but for the context of this blog, the end result is a small static bundle that we want to deploy.

All of the code for this can be found on my [GitHub](https://github.com/tylangesmith-organisation/tylangesmith)!

</Section>

<Section>

## Designing our Solution

Awesome! So when designing a hosting solution for this project, I knew I wanted something performant, scalable, reliable, secure, and cost-optimised. Naturally, I also wanted to keep things relatively simple.

Thankfully, since our website is static, we can meet these requirements without too much hassle.

To implement our solution, we'll be using [AWS](https://aws.amazon.com/). AWS is a cloud platform that provides hundreds of cloud services to solve a variety of problems.

> If you're a beginner in this space, it can be pretty overwhelming at first. However, from experience, if you stick with it, you'll quickly be able to navigate the ecosystem with confidence.

So with all those requirements in mind, we can implement a solution that looks like the following.

<Image
  highQualitySource="buildingAServerlessBlogUsingNextjsAndAwsCdk/solutionArchitecture.png"
  alt="High Level Solution Architecture"
  label="High Level Solution Architecture"
/>

OK, hopefully, that doesn't look too scary - let's break each of these components down to better understand how they all fit together.

### AWS Simple Storage Service (S3)

First, we need somewhere to store our static bundle. For that, we can use [AWS S3](https://aws.amazon.com/s3/) (Simple Storage Service). As the name suggests, it provides a simple service that enables us to store objects. 

These objects are stored in what's known as a bucket. Once stored and configured with the correct permissions, objects within this bucket can be accessed via a few different methods, e.g. an object URL.

> One of the most prominent data leakage vectors companies face is through misconfigured s3 buckets

For example, if we uploaded our static bundle to a bucket we've created named `tylangesmith.com`, and we wanted to grab the `index.html` file, we could do so with `https://s3.amazonaws.com/tylangesmith.com/index.html`.




</Section>
